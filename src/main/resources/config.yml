#
# ==== General info ====
#
# * You can add your own handlers in this file but don't forget to
# add they into 'handlers' list.
#
# * After editing of this file you need to check server logs to be
# sure that no errors was appeared.
#
# * It's highly recommended to check that your handler
# can modify an entity in the such way. For example, you can't
# set a drop chance for items in hands of a human.
#

#
# Show debug info. Possible values: true | false (default = false)
#
# This option can affect the performance.
#
debug: false

#
# Show a warning when updates are queued for more time than expected.
#
# When reporting to the plugin Author with details about
# the config changes, other plugins, previous log records, etc.,
# you may request an improvement of the plugin for your server.
#
# Possible values: 1 ... 3600_000.
# Default value: 5.
#
timeout-in-ms: 5

#
# handlers:     ### List of handlers' paths.
#               ### (* see description of <handler> below)
# - <handler1>
#   ...
# - <handlerN>
#
# All handlers will handle a 'CreatureSpawn' event in sequence in which
# they are described in this option.
# For the players a 'PlayerRespawn' event will be used.
#

handlers:
  - fat-animal
  - rapid-monster
  - player
  - golden-zombie
  - iron-zombie
  - diamond-skeleton
  - chainmail-zombie
  - better-crossbows
  - better-tridents
  - baby-creeper
  - cool-horse
  - rabbit-killer
  - better-wither
  - vex-spawns-an-illusioner
  - angry-vex
  - insane-mansions-and-raids
  - insane-mansions-and-raids-illusioners
  - angry-vindicator
  - piglin-spawns-a-hoglin
  - angry-hoglin
  - zombie-horse
# Uncomment this line to play with test handler.
#  - test-handler

#
# ==== Handler ====
#
# <handler>:
#   filter: <filter>   ### Filter that will be applied before modifications.
#                      ### By default, no filters will be applied.
#                      ### (* see description of <filter> below)
#
#   attributes: <attributes> ### Generic attributes of an entity.
#                            ### (* see description of <attributes> below)
#
#   effects:  ### List of effects which will be applied to an entity.
#             ### By default, no effects will be applied.
#             ###
#             ### Path of each effect can be absolute from the root of the
#             ### config or relative to the current handler definition.
#
#     - <effect-path-rel>  ### Relative path.
#     - <effect-path-abs>  ### Absolute path.
#       ...
#     - <effect-pathN>
#
#   effect-path-rel: <effect> ### Effect described in handler's namespace.
#                             ### (* see description of <effect> below)
#
#   equipment: <equipment>    ### Modifications of entity's equipment.
#                             ### (* see description of <equipment> below)
#
#   drops:                    ### Modifications of entity's drops.
#     - <drop-path-rel>       ### Relative path.
#     - <drop-path-abs>       ### Absolute path.
#       ...
#     - <drop-pathN>
#
#   drop-path-rel: <item-drop> ### Item drop described in handler's namespace.
#                              ### (* see description of <item-drop> below)
#
#   drop-exp: <int-value:0..32767> ### Modifications of entity's drop exp.
#                                  ### https://minecraft.fandom.com/wiki/Experience
#                                  ### Level Total XP
#                                  ### 1     7
#                                  ### 3     27
#                                  ### 5     55
#                                  ### 10    160
#                                  ### 15    315
#                                  ### 20    550
#                                  ### 25    910
#                                  ### 30    1395
#
#   entity-specific-attributes: <entity-specific-attributes> ### (* see description below)
#
#   spawn: <spawn> ### (* see description below)
#
# effect-path-abs: <effect>   ### Effect described anywhere else.
#                             ### (* see description of <effect> below)
#
# drop-path-abs: <item-drop>   ### Item drop described anywhere else.
#                              ### (* see description of <item-drop> below)
#
# #### Filter ####
#
# <filter>:  ### This section has descriptions of several filtering rules.
#            ### The filter will be passed only if all rules are passed.
#            ### But you should define at least one rule and avoid
#            ### passing all possible entities.
#
#   reasons: ### Possible spawn reasons, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/event/entity/CreatureSpawnEvent.SpawnReason.html
#            ### By default, spawns with all reason will be processed.
#            ###
#            ### A spawn via "summon" command will be detected as "COMMAND".
#            ### A spawn via "spawn" section will be detected as "CUSTOM".
#     - <spawn-reason1>
#       ...
#     - <spawn-reasonN>
#
#   types:   ### Possible entity types, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/EntityType.html
#            ### By default, entities of all types will be processed.
#            ###
#            ### An entity should be a subinterface of LivingEntity, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/LivingEntity.html
#            ###
#            ### If an entity's type is "PLAYER", then all the handlers will
#            ### be applied with delay of 1 server's tick.
#            ### That's caused by tricky behaviour of PlayerRespawnEvent, see
#https://bukkit.org/threads/add-potion-effect.62082/
#     - <entity-type1>
#       ...
#     - <entity-typeN>
#
#   type-sets:  ### Pre-defined sets of possible entity types.
#               ### By default, entities of all types will be processed.
#               ###
#               ### If you define both "types" and "type-sets" filters,
#               ### then entity types will be merged.
#               ### So, you can define types as [ZOMBIE] and type-sets
#               ### as [ANIMALS].
#               ###
#     - <type-set1>   ### (* see description of <type-set> below)
#       ...
#     - <type-setN>
#
#   worlds:  ### A list of worlds.
#            ### By default, entities of all worlds will be processed.
#     - <world1>
#       ...
#     - <worldN>
#
#   probability: <float:0..100> ### Probability in percents that this
#                               ### handler will be applied after all
#                               ### the filters.
#                               ### By default, the probability is 100%.
#                               ### (* see description of <float> below)
#
#   probability-player-multiplier:      ### Player-based probability modifier:
#                                       ### probability *= min(<max>, (1 + <statistic> / <divider>))
#
#     sort: closest | biggest           ### "closest" - the player closest to a spawned entity
#                                       ### "biggest" - the player with the biggest statistic value
#
#     statistic:                        ### Possible statistic, see
#https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/Statistic.html
#
#     divider: <float-value:0.0001..?>  ### Math constant
#
#     max: <float-value:0.0001..?>      ### Math constant
#
# #### Attributes ####
# By default, all the following attributes won't be modified.
#
# <attributes>:
#   max-health-multiplier: <float-value:0.0001..?> ### A multiplier for max. health of an entity.
#
#   base-armor: <float-value:0..?> ### Entity's base armor before all
#                                  ### the other modifiers, see
#                                  ### http://minecraft.gamepedia.com/Armor
#
#   follow-range: <float-value:1..100> ### Range at which an entity
#                                      ### will follow others.
#                                      ### This parameter changes
#                                      ### significantly the
#                                      ### behaviour of projectiles,
#                                      ### affected by gravity.
#
#   knockback-resistance: <float-value:0..1> ### Resistance of an entity
#                                            ### to knockback.
#
#   max-health: <float-value:0.0001..?> ### Max. health of an entity.
#
#   movement-speed-multiplier: <float-value:0.0001..?> ### Multiplier of base movement speed
#                                                      ### of an entity.
#
#   remove-when-far-away: <boolean-value> ### Sets whether the living entity
#                                         ### despawns when away from players or not.
#                                         ###
#                                         ### Please check https://minecraft.fandom.com/wiki/Spawn#Despawning
#                                         ### to ensure living entity can despawn
#
#   movement-speed: <float-value:0.0001..?> ### Base movement speed of an entity.
#
#   scale: <float-value:0.0001..?> ### Entity scale
#
# #### Entity-specific attributes ####
# By default, all the following attributes won't be modified.
#
# Warning: <filter> MUST filter only the appropriate entity types by types or by type-sets.
#
# <entity-specific-attributes>:
#   creeper:
#     max-fuse-ticks: <int-value:1..?>    ### The amount of time in sticks in which a creeper
#                                         ### is allowed to be in the primed state before exploding.
#                                         ###
#                                         ### 0 leads to an immediate explosion, so starts from 1.
#                                         ### Default is 30.
#
#     explosion-radius: <int-value:0..16> ### Explosion radius in which explosion will affect.
#                                         ###
#                                         ### 17 and more doesn't work due to griefing limitation.
#                                         ### Default is 3, 6 for powered.
#
#     powered: <boolean-value>            ### https://minecraft.fandom.com/wiki/Creeper#Charged_creeper
#                                         ### Charged creepers are distinguished from normal creepers
#                                         ### by their blue aura surrounding them.
#                                         ### They have higher explosion radius and explosion power.
#
#   horse:
#     color:  ### Possible colors, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/Horse.Color.html
#
#     style:  ### Possible styles, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/Horse.Style.html
#
#     max-domestication: <int-value:1..?> ### Setting a higher max domestication
#                                         ### will increase the amount of domesticating (feeding, riding, etc.)
#                                         ### necessary in order to tame it,
#                                         ### while setting a lower max value will have the opposite effect.
#                                         ###
#                                         ### Default is 100.
#                                         ### Maximum domestication must be greater than zero.
#
#     jump-strength: <float-value:0.0..2.0> ### https://minecraft.fandom.com/wiki/Horse#Jump_strength
#                                           ### Horse's jump strength ranges from 0.4–1.0, with an average of 0.7.
#                                           ###
#                                           ### A jump strength of 0.5 is enough to clear 1 9⁄16 blocks,
#                                           ### while 1.0 is enough to clear 5 1⁄4 blocks.
#                                           ###
#                                           ### You cannot set a jump strength to a value below 0 or above 2.
#
#     tamed: <boolean-value>
#
#   zombie-horse:
#     jump-strength: <float-value:0.0..2.0> ### See the details above
#
#     tamed: <boolean-value>
#
#   rabbit:
#     type: ### Possible types, see
#https://hub.spigotmc.org/javadocs/bukkit/org/bukkit/entity/Rabbit.Type.html
#
# #### Spawn ####
#
# <spawn>:
#   probability: <0..100> ### Probability in percents that this spawn will be triggered.
#                         ### By default, the probability is 100%.
#
#   type:  ### Possible entity types, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/EntityType.html
#          ### An entity should be a subinterface of LivingEntity, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/entity/LivingEntity.html
#
#   amount: <int-value:1..?>
#
# #### Type set ####
#
# A set of entity types. Some living entities do not belong to any groups:
# [PLAYER, TRADER_LLAMA, VILLAGER, WANDERING_TRADER]
#
# <type-set>: ANIMALS | GOLEMS | MONSTERS | ZOMBIES | SKELETONS | FLYING_MOBS
#
# ANIMALS: [ALLAY, ARMADILLO, AXOLOTL, BAT,
#           BEE, CAMEL, CAT, CHICKEN,
#           COD, COW, DOLPHIN, DONKEY, FOX,
#           FROG, GLOW_SQUID, GOAT,
#           HAPPY_GHAST, HORSE, LLAMA, MOOSHROOM,
#           MULE,, OCELOT, PANDA, PARROT,
#           PIG, POLAR_BEAR, PUFFERFISH, RABBIT,
#           SALMON, SHEEP, SNIFFER, SQUID,
#           STRIDER, TADPOLE, TROPICAL_FISH, TURTLE,
#           WOLF, ZOMBIE_HORSE]
# GOLEMS: [IRON_GOLEM, SNOW_GOLEM]
# MONSTERS: [BLAZE, BOGGED, BREEZE, CAVE_SPIDER,
#            CREAKING, CREEPER, DROWNED, ELDER_GUARDIAN,
#            ENDER_DRAGON, ENDERMAN, ENDERMITE, EVOKER,
#            EVOKER_FANGS, GHAST, GIANT, GUARDIAN,
#            HOGLIN, HUSK, ILLUSIONER, MAGMA_CUBE,
#            PHANTOM, PIGLIN, PIGLIN_BRUTE, PILLAGER,
#            RAVAGER, SHULKER, SILVERFISH, SKELETON,
#            SKELETON_HORSE, SLIME, SPIDER, STRAY,
#            VEX, VINDICATOR, WARDEN, WITCH,
#            WITHER, WITHER_SKELETON, ZOGLIN, ZOMBIE,
#            ZOMBIE_VILLAGER, ZOMBIFIED_PIGLIN]
# ZOMBIES: [DROWNED, GIANT, HUSK, PIGLIN
#           PIGLIN_BRUTE, WITHER_SKELETON, ZOMBIE, ZOMBIE_VILLAGER,
#           ZOMBIFIED_PIGLIN]
# SKELETONS: [BOGGED, SKELETON, STRAY, WITHER_SKELETON]
# FLYING_MOBS: [ALLAY, BAT, BEE, BREEZE,
#               ENDER_DRAGON, GHAST, PARROT, PHANTOM,
#               VEX, WITHER]
#
# #### Effect ####
#
# <effect>:
#   types:   ### Effect types, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/potion/PotionEffectType.html
#            ### Effects of all these types will be applied to an entity.
#     - <effect-type1>
#       ...
#     - <effect-typeN>
#
#   strength: <int-value:1..?>   ### Strength of the effect.
#                                ### (* see description of <int-value> below)
#   duration: <int-value:1..?>   ### Duration of the effect, in seconds.
#                                ### Magic number '0' means 'infinite'.
#                                ###
#                                ### Please be careful with random int numbers that allow dicing '0':
#                                ### a randomly diced '0' also will be considered as 'infinite'.
#
# #### Equipment ####
#
# <equipment>:
#   helmet: <equipment-cloth>   ### Description of entity's helmet.
#                               ### (* see description of
#                               ### <equipment-cloth> below)
#   boots: <equipment-cloth>    ### Description of entity's boots.
#   chest: <equipment-cloth>    ### Description of entity's chest.
#   pens: <equipment-cloth>     ### Description of entity's pens.
#   main-hand: <item-in-hand>   ### Description of entity's
#                               ### main hand equipment.
#                               ### (* see description of
#                               ### <item-in-hand> below)
#   off-hand: <item-in-hand>    ### Description of entity's
#                               ### off hand equipment.
#                               ###
#                               ### Warning: off hand configuration works
#                               ### only with Minecraft version greater
#                               ### or equal 1.9.0.
#
# #### Equipment cloth ####
#
# <equipment-cloth>:
#   probability: <0..100>   ### Probability in percents that this cloth will
#                           ### be dressed on the entity.
#                           ### By default, the probability is 100%.
#
#   material-type: <material-type> ### Material of the cloth. Values:
#                                  ###  - LEATHER
#                                  ###  - CHAINMAIL
#                                  ###  - IRON
#                                  ###  - DIAMOND
#                                  ###  - GOLDEN
#                                  ###  - NETHERITE
#
#   drop-chance: <float:0..1> ### Chance that this cloth will be dropped
#                             ### as an award for the killer.
#                             ### By default, the probability is 8.5% (0.085):
#                             ### https://minecraft.gamepedia.com/Drops.
#                             ###
#                             ### The Looting enchantment increases
#                             ### this chance by 1% per level.
#
#   durability: <int-value:0..100>  ### Durability in percents of this cloth.
#                                   ### By default, the durability is 100%.
#
#   enchantments: <enchantments>  ### List of enchantments will be applied
#                                 ### to this cloth.
#                                 ### By default, no enchantments will
#                                 ### be applied.
#                                 ### (* see description of
#                                 ### <enchantments> below)
#
#   trim: <trim> ### Armor trim, empty by default, shown only on players.
#
# #### Item in hand ####
#
# <item-in-hand>:
#   probability: <double:0..100>   ### Probability in percents that this item will
#                                  ### be in hand of the entity.
#                                  ### By default, the probability is 100%.
#
#   material: <material>    ### Material of the item, see:
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html
#
#   amount: <int-value:1..64> ### Amount of items.
#
#   drop-chance: <float:0..1> ### Chance that this item will be dropped
#                             ### as an award for the killer.
#                             ### By default, the probability is 8.5% (0.085):
#                             ### https://minecraft.gamepedia.com/Drops.
#                             ###
#                             ### The Looting enchantment increases
#                             ### this chance by 1% per level.
#
#   durability: <int-value:0..100>  ### Durability in percents of this item.
#                                   ### By default, the durability is 100%.
#
#   enchantments: <enchantments>  ### List of enchantments will be applied
#                                 ### to this item.
#                                 ### By default, no enchantments will
#                                 ### be applied.
#                                 ### (* see description of
#                                 ### <enchantments> below)
#
#   trim: <trim> ### Armor trim, empty by default, shown only on players.
#
# #### Item drop ####
#
# <item-drop>:
#   probability: <double:0..100>   ### Probability in percents that this item will
#                                  ### drop after the entity death.
#                                  ### By default, the probability is 100%.
#
#   probability-per-looting-level: <double-value:0..100>  ### The Looting enchantment increases
#                                                         ### probability by that percent per level.
#                                                         ### Default value is 0%.
#
#   material: <material>    ### Material of the item, see:
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/Material.html
#
#   amount: <int-value:1..64> ### Amount of items.
#                             ###
#                             ### The default value is
#                             ### a normally distributed int in range 1-1.
#                             ###
#                             ### The <int> value is considered as
#                             ### a normally distributed int in range <int>-<int>.
#
#   amount-max-per-looting-level: <int-value:0..64> ### The Looting enchantment increases
#                                                   ### the max random value
#                                                   ### by that number per level.
#                                                   ### Default value is 0.
#
#   durability: <int-value:0..100>  ### Durability in percents of this item.
#                                   ### By default, the durability is 100%.
#
#   enchantments: <enchantments>  ### List of enchantments will be applied
#                                 ### to this item.
#                                 ### By default, no enchantments will
#                                 ### be applied.
#                                 ### (* see description of
#                                 ### <enchantments> below)
#
#   trim: <trim> ### Armor trim, empty by default, shown only on players.
#
#   schedules: <schedules>  ### List of schedules when this item may drop.
#                           ### By default, schedule is "always".
#                           ### (* see description of <schedules> below)
#
# #### Enchantments ####
#
# <relative-path>:
#   <enchantments>:  ### List of enchantments' paths.
#                    ### Path of each enchantment can be absolute from
#                    ### the root of the config or relative
#                    ### to the current <relative-path> definition.
#
#     - <enchantment-path-rel>  ### Relative path.
#     - <enchantment-path-abs>  ### Absolute path.
#       ...
#     - <enchantment-pathN>
#
#   enchantment-path-rel: <enchantment> ### Enchantment described in
#                                       ### <relative-path> namespace.
#                                       ### (* see description of
#                                       ### <enchantment> below)
#
# enchantment-path-abs: <enchantment>   ### Enchantment described
#                                       ### anywhere else.
#
# #### Enchantment ####
#
# <enchantment>:
#   type: <enchantment-type>  ### Enchantment type, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/enchantments/Enchantment.html
#                             ###
#                             ### Hint: common protection's enchantment
#                             ### is "PROTECTION".
#
#   level: <int-value:0..100>  ### Level of enchantment.
#                              ###
#                              ### If 0 is provided, the enchantment will be skipped:
#                              ### use this to randomly skip the enchantment.
#
#   schedules: <schedules>  ### List of schedules when the enchantment is applied.
#                           ### By default, schedule is "always".
#                           ### (* see description of <schedules> below)
#
# #### Schedules ####
#
# <relative-path>:
#   <schedules>:  ### List of schedules' paths.
#                 ### Path of each schedules can be absolute from
#                 ### the root of the config or relative
#                 ### to the current <relative-path> definition.
#                 ###
#                 ### All schedules join additively.
#
#     - <schedule-path-rel>  ### Relative path.
#     - <schedule-path-abs>  ### Absolute path.
#       ...
#     - <schedule-pathN>
#
#   schedule-path-rel: <schedule> ### Schedule described in <relative-path> namespace.
#                                 ### (* see description of <schedule> below)
#
# schedule-path-abs: <schedule>   ### Schedule described anywhere else.
#
# #### Schedule ####
#
# <schedule>:
#   timezone: ### Possible timezones, see
#https://docs.oracle.com/javase/8/docs/api/java/util/TimeZone.html
#
#   days-of-the-week:
#   - MON
#   - TUE
#   - WED
#   - THU
#   - FRI
#   - SAT
#   - SUN
#
# #### ArmorTrim ####
# <trim>:
#   material:  ### Possible materials, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/inventory/meta/trim/TrimMaterial.html
#              ### OR RANDOM
#
#   pattern:  ### Possible patterns, see
#https://hub.spigotmc.org/javadocs/spigot/org/bukkit/inventory/meta/trim/TrimPattern.html
#              ### OR RANDOM
#
# Warning: armor trim works only on players.
#
# #### Floating point value ####
# High-level restrictions:
# - Maximum number of digits after the point is 4.
# - Maximum number of digits before the point is 11.
# - The minimal float point value is 0.0001.
# - The maximal float point value is 99999999999.9999.
#
# <float-value>: <float>      ### Normal floating point value.
# ||
# <float-value>:
#   type: random              ### Type of floating point value. Currently
#                             ### only 'random' type is supported.
#   min: <float>              ### Minimum value.
#   max: <float>              ### Maximum value.
#   distribution: <rnd-distr> ### Type of random distribution.
#                             ### (* see description of <rnd-distr> below)
#
# #### Integer value ####
# High-level restrictions:
# Minimal value is -2147483648
# Maximal value is 2147483647
#
# <int-value>: <int>          ### Normal integer value.
# ||
# <int-value>:
#   type: random              ### Random integer value. Currently
#                             ### only 'random' type is supported.
#   min: <int>                ### Minimum value.
#   max: <int>                ### Maximum value.
#   distribution: <rnd-distr> ### Type of random distribution.
#                             ### (* see description of <rnd-distr> below)

# #### Boolean value ####
#
# <boolean-value>: true | false
# ||
# <boolean-value>:
#   type: random              ### Random boolean value. Currently
#                             ### only 'random' type is supported.
#   distribution: <rnd-distr> ### Type of random distribution.
#                             ### (* see description of <rnd-distr> below)
#
# #### Random distribution ####
#
# <rnd-distr>: normal | exp_up | exp_down
# normal - normal distribution with uniform density
#          from min to max, e.g. 33%, 33%, 33%.
# exp_up - exponential distribution with growing density
#          from min to max, e.g. 10%, 25%, 65%.
# exp_down - exponential distribution with falling density
#            from min to max, e.g. 65%, 25%, 10%.
#
# By default, a NORMAL distribution will be chosen.
#

fat-animal:
  filter:
    reasons:
      - NATURAL
    type-sets:
      - ANIMALS
    probability: 5
  attributes:
    scale:
      type: random
      min: 1.05
      max: 1.25
      distribution: exp_down
    # Too many mob types to list all health changes
    max-health-multiplier:
      type: random
      min: 1.0
      max: 5.0
      distribution: exp_down
    base-armor:
      type: random
      min: 0.0
      max: 10.0
      distribution: exp_down

rapid-monster:
  filter:
    type-sets:
      - MONSTERS
    probability: 5
  attributes:
    movement-speed-multiplier:
      type: random
      min: 1.0
      max: 2.0
      distribution: exp_down

player:
  filter:
    reasons:
      # According to https://hub.spigotmc.org/javadocs/spigot/org/bukkit/event/entity/CreatureSpawnEvent.SpawnReason.html,
      # DEFAULT - when an entity is missing a SpawnReason.
      - DEFAULT
    types:
      - PLAYER
    probability: 100
  effects:
    - _blindness
    - _darkness
    - _resistance_3
    - _jump_and_speed_2
  _blindness:
    types:
      - BLINDNESS
    strength: 1
    duration: 5
  _darkness:
    types:
      - DARKNESS
    strength: 1
    duration: 15
  _resistance_3:
    types:
      - RESISTANCE
    strength: 3
    duration: 30
  _jump_and_speed_2:
    types:
      - SPEED
      - JUMP_BOOST
    strength: 2
    duration: 60
  equipment:
    main-hand:
      material: APPLE

golden-zombie:
  filter:
    type-sets:
      - ZOMBIES
    probability: 4
    probability-player-multiplier:
      sort: closest
      statistic: DAMAGE_DEALT
      # stored in percentages, actually means 5_000 full units
      divider: 500_000
      # 4% * 8 = 32%
      # together with iron- and chainmail- multipliers for zombies up to 32%
      # has (1-4%)*(1-2%)*(1-0.5%) - (1-32%)^3 = 62% of cumulative hardening potential for zombies
      max: 8
  effects:
    - effects.jump_1
    # Protect undead zombies from Sunlight
    - effects.fire_resistance
  equipment:
    helmet:
      probability: 100
      material-type: GOLDEN
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_protection
        - enchantments.rand_thorns
    boots:
      probability: 50
      material-type: GOLDEN
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_protection
        - enchantments.rand_thorns
    chest:
      probability: 50
      material-type: GOLDEN
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_protection
        - enchantments.rand_thorns
    leggings:
      probability: 50
      material-type: GOLDEN
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_protection
        - enchantments.rand_thorns
    # Damage in "hard": 6.75(♥)
    main-hand:
      probability: 100
      material: GOLDEN_AXE
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_efficiency
  attributes:
    movement-speed-multiplier: 1.2
  drops:
    - _gold_ingot
  _gold_ingot:
    material: GOLD_INGOT
    amount-max-per-looting-level: 1
  # 3 levels from 0
  drop-exp: 27

iron-zombie:
  filter:
    type-sets:
      - ZOMBIES
    probability: 2
    probability-player-multiplier:
      sort: closest
      statistic: DAMAGE_DEALT
      # stored in percentages, actually means 5_000 full units
      divider: 500_000
      # 2% * 16 = 32%
      # together with golden- and chainmail- multipliers for zombies up to 32%
      # has (1-4%)*(1-2%)*(1-0.5%) - (1-32%)^3 = 62% of cumulative hardening potential for zombies
      max: 16
  effects:
    - effects.jump_1
    # Protect undead zombies from Sunlight
    - effects.fire_resistance
  equipment:
    helmet:
      probability: 100
      material-type: IRON
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_protection
        - enchantments.rand_thorns
    boots:
      probability: 50
      material-type: IRON
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_protection
        - enchantments.rand_thorns
    chest:
      probability: 50
      material-type: IRON
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_protection
        - enchantments.rand_thorns
    leggings:
      probability: 50
      material-type: IRON
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_protection
        - enchantments.rand_thorns
    # Damage in "hard": 6.00(♥) - 8.25(♥)
    main-hand:
      probability: 100
      material: IRON_SWORD
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_sword_sharpness
        - enchantments.rand_sword_looting
        - enchantments.rand_sword_knockback
        - enchantments.rand_sword_fire_aspect
        - enchantments.rand_sword_sweeping_edge
  attributes:
    movement-speed-multiplier: 1.2
  drops:
    - _iron_block
  _iron_block:
    material: IRON_BLOCK
    amount-max-per-looting-level: 1
  # 3 levels from 0
  drop-exp: 27

diamond-skeleton:
  filter:
    type-sets:
      - SKELETONS
    probability: 1
    probability-player-multiplier:
      sort: closest
      statistic: DAMAGE_DEALT
      # stored in percentages, actually means 5_000 full units
      divider: 500_000
      # 1% * 32 = 32%
      # has no cumulative hardening potential because other multipliers are other entity types
      max: 32
  effects:
    - effects.jump_3
    - effects.glowing
    # Protect undead skeletons from Sunlight
    - effects.fire_resistance
    # According to https://minecraft.fandom.com/wiki/Skeleton,
    # Skeletons are unaffected by Regeneration and Poison.
    # - effects.regeneration
  equipment:
    # When killed by DIAMOND_SWORD+SHARPNESS(5), this entity usually keeps equipment
    # and isn't affected by durability decay caused by rand_maybe_top_thorns_except_friday
    helmet:
      probability: 100
      # x0.5
      drop-chance: 0.0425
      material-type: DIAMOND
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_helmet_respiration
        - enchantments.rand_helmet_aqua_affinity
        - enchantments.rand_maybe_top_thorns_except_friday
    boots:
      probability: 100
      # x0.5
      drop-chance: 0.0425
      material-type: DIAMOND
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_boots_feather_falling
        - enchantments.rand_boots_depth_strider
        - enchantments.rand_maybe_top_thorns_except_friday
    chest:
      probability: 100
      # x0.5
      drop-chance: 0.0425
      material-type: DIAMOND
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_maybe_top_thorns_except_friday
    leggings:
      probability: 100
      # x0.5
      drop-chance: 0.0425
      material-type: DIAMOND
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_leggings_swift_sneak
        - enchantments.rand_maybe_top_thorns_except_friday
    # Damage in "hard": 3.00(♥) - 5.25(♥)
    main-hand:
      probability: 100
      material: BOW
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_bow_power
        - enchantments.rand_bow_punch
        - enchantments.rand_bow_flame
        - enchantments.rand_bow_infinity
  attributes:
    follow-range: 50.0
    knockback-resistance: 0.5
    movement-speed-multiplier: 1.5
    # Bogged: 8(♥) > 12(♥)
    # Skeleton, Stray, Wither Skeleton: 10(♥) > 15(♥)
    max-health-multiplier: 1.5
  drops:
    - _diamond
    - _top_diamond_helmet
    - _top_diamond_boots
    - _top_diamond_chest
    - _top_diamond_leggings
    - drops.top_bow
  _diamond:
    material: DIAMOND
    amount-max-per-looting-level: 1
    schedules:
      - schedules.except_friday
  _top_diamond_helmet:
    probability: 0.5
    probability-per-looting-level: 0.5
    material: DIAMOND_HELMET
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.top_protection
      - enchantments.top_helmet_respiration
      - enchantments.best_helmet_aqua_affinity
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    trim:
      material: AMETHYST
      pattern: RANDOM
    schedules:
      - schedules.except_friday
  _top_diamond_boots:
    probability: 0.5
    probability-per-looting-level: 0.5
    material: DIAMOND_BOOTS
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.top_protection
      - enchantments.best_boots_feather_falling
      - enchantments.best_boots_depth_strider
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
      # No soul speed enchantments for boots, because
      # according to https://minecraft.fandom.com/wiki/Soul_Speed
      # it reduces durability.
    trim:
      material: AMETHYST
      pattern: RANDOM
    schedules:
      - schedules.except_friday
  _top_diamond_chest:
    probability: 0.5
    probability-per-looting-level: 0.5
    material: DIAMOND_CHESTPLATE
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.top_protection
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    trim:
      material: AMETHYST
      pattern: RANDOM
    schedules:
      - schedules.except_friday
  _top_diamond_leggings:
    probability: 0.5
    probability-per-looting-level: 0.5
    material: DIAMOND_LEGGINGS
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.top_protection
      - enchantments.top_leggings_swift_sneak
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    trim:
      material: AMETHYST
      pattern: RANDOM
    schedules:
      - schedules.except_friday
  # 5 levels from 0
  drop-exp: 55

chainmail-zombie:
  filter:
    type-sets:
      - ZOMBIES
    probability: 0.5
    probability-player-multiplier:
      sort: closest
      statistic: DAMAGE_DEALT
      # stored in percentages, actually means 5_000 full units
      divider: 500_000
      # 0.5% * 64 = 32%
      # together with golden- and iron- multipliers for zombies up to 32%
      # has (1-4%)*(1-2%)*(1-0.5%) - (1-32%)^3 = 62% of cumulative hardening potential for zombies
      max: 64
  effects:
    - effects.jump_3
    - effects.glowing
    # Protect undead zombies from Sunlight
    - effects.fire_resistance
    # According to https://minecraft.fandom.com/wiki/Zombie,
    # Zombies are unaffected by Regeneration and Poison.
    # - effects.regeneration
  equipment:
    # When killed by DIAMOND_SWORD+SHARPNESS(5), this entity usually keeps equipment
    # and isn't affected by durability decay caused by rand_maybe_top_thorns_except_friday
    helmet:
      probability: 100
      material-type: CHAINMAIL
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_helmet_respiration
        - enchantments.rand_helmet_aqua_affinity
        - enchantments.rand_maybe_top_thorns_except_friday
    boots:
      probability: 100
      material-type: CHAINMAIL
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_boots_feather_falling
        - enchantments.rand_boots_depth_strider
        - enchantments.rand_maybe_top_thorns_except_friday
    chest:
      probability: 100
      material-type: CHAINMAIL
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_maybe_top_thorns_except_friday
    leggings:
      probability: 100
      material-type: CHAINMAIL
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_protection
        - enchantments.rand_leggings_swift_sneak
        - enchantments.rand_maybe_top_thorns_except_friday
    # Damage in "hard": 6.75(♥) - 9.75(♥)
    main-hand:
      probability: 100
      # x0.5
      drop-chance: 0.0425
      material: DIAMOND_SWORD
      durability:
        type: random
        min: 10
        max: 25
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_sword_sharpness
        - enchantments.rand_sword_looting
        - enchantments.rand_sword_knockback
        - enchantments.rand_sword_fire_aspect
        - enchantments.rand_sword_sweeping_edge
  attributes:
    follow-range: 50.0
    knockback-resistance: 0.5
    movement-speed-multiplier: 1.5
    # Piglin: 8(♥) > 12(♥)
    # Drowned, Husk, Wither Skeleton, Zombie, Zombie Villager, Zombified Piglin: 10(♥) > 15(♥)
    # Piglin Brute: 25(♥) > 37.5(♥)
    # Giant: 50(♥) > 75(♥)
    max-health-multiplier: 1.5
  drops:
    - _lapis_lazuli
    - _redstone
    - _top_chainmail_helmet
    - _top_chainmail_boots
    - _top_chainmail_chest
    - _top_chainmail_leggings
    - _top_diamond_sword
  _lapis_lazuli:
    material: LAPIS_LAZULI
    # (4 + 9) / 2 = 6.5 on average
    amount:
      type: random
      min: 4
      max: 9
    amount-max-per-looting-level: 6
    schedules:
      - schedules.except_friday
  _redstone:
    material: REDSTONE
    # (4 + 5) / 2 = 4.5 on average
    amount:
      type: random
      min: 4
      max: 5
    amount-max-per-looting-level: 4
    schedules:
      - schedules.except_friday
  _top_chainmail_helmet:
    probability: 1
    probability-per-looting-level: 1
    material: CHAINMAIL_HELMET
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.best_protection
      - enchantments.best_helmet_respiration
      - enchantments.best_helmet_aqua_affinity
      - enchantments.best_vanishing_curse
    trim:
      material: RANDOM
      pattern: VEX
    schedules:
      - schedules.except_friday
  _top_chainmail_boots:
    probability: 1
    probability-per-looting-level: 1
    material: CHAINMAIL_BOOTS
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.best_protection
      - enchantments.best_boots_feather_falling
      - enchantments.best_boots_depth_strider
      - enchantments.best_vanishing_curse
    trim:
      material: RANDOM
      pattern: VEX
    schedules:
      - schedules.except_friday
  _top_chainmail_chest:
    probability: 1
    probability-per-looting-level: 1
    material: CHAINMAIL_CHESTPLATE
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.best_protection
      - enchantments.best_vanishing_curse
    trim:
      material: RANDOM
      pattern: VEX
    schedules:
      - schedules.except_friday
  _top_chainmail_leggings:
    probability: 1
    probability-per-looting-level: 1
    material: CHAINMAIL_LEGGINGS
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.best_protection
      - enchantments.best_leggings_swift_sneak
      - enchantments.best_vanishing_curse
    trim:
      material: RANDOM
      pattern: VEX
    schedules:
      - schedules.except_friday
  _top_diamond_sword:
    probability: 0.5
    probability-per-looting-level: 0.5
    material: DIAMOND_SWORD
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.top_sword_sharpness
      - enchantments.best_sword_looting
      - enchantments.best_sword_knockback
      - enchantments.best_sword_fire_aspect
      - enchantments.best_sword_sweeping_edge
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    schedules:
      - schedules.except_friday
  # 5 levels from 0
  drop-exp: 55

better-crossbows:
  filter:
    types:
      - PILLAGER
      - PIGLIN
    probability: 5
  equipment:
    main-hand:
      probability: 100
      # x2
      drop-chance: 0.17
      material: CROSSBOW
      durability:
        type: random
        min: 25
        max: 100
      enchantments:
        - enchantments.rand_unbreaking
        - _rand_crossbow_quick_charge
        - _rand_crossbow_multishot
        - _rand_maybe_top_crossbow_piercing

      # Crossbow enchantments

      _rand_crossbow_quick_charge:
        type: QUICK_CHARGE
        level:
          type: random
          min: 1
          max: 3
      _rand_crossbow_multishot:
        type: MULTISHOT
        level:
          type: random
          min: 0
          max: 1
      _rand_maybe_top_crossbow_piercing:
        type: PIERCING
        #
        # Survival maximum level is 4, here it's 6.
        #
        # According to https://minecraft.fandom.com/wiki/Piercing,
        # with values beyond 127 the piercing effect will stop working
        #
        level:
          type: random
          min: 1
          max: 6

better-tridents:
  filter:
    types:
      - DROWNED
    probability: 5
  equipment:
    main-hand:
      probability: 100
      # x2
      drop-chance: 0.17
      material: TRIDENT
      durability:
        type: random
        min: 25
        max: 100
      enchantments:
        - enchantments.rand_unbreaking
        - _rand_trident_channeling
        - _rand_trident_impaling
        - _rand_maybe_top_loyalty

      # Trident enchantments

      _rand_trident_impaling:
        type: IMPALING
        level:
          type: random
          min: 0
          max: 5
      _rand_trident_channeling:
        type: CHANNELING
        level:
          type: random
          min: 0
          max: 1
      _rand_maybe_top_loyalty:
        type: LOYALTY
        # Survival maximum level is 3, here it's 5.
        level:
          type: random
          min: 1
          max: 5

# Inspired by Baby Zombies
baby-creeper:
  filter:
    types:
      - CREEPER
    probability: 5
  attributes:
    # Survival default is 16
    follow-range: 50.0
    knockback-resistance: 0.2
    movement-speed-multiplier: 1.5
    # Creeper: 10(♥) > 12(♥)
    max-health-multiplier: 1.2
    # Fit through 1×1 block gaps
    scale: 0.5
  # 5 levels from 0
  drop-exp: 55
  entity-specific-attributes:
    creeper:
      # Survival default is 30
      max-fuse-ticks: 20
      # Survival default is 3, for powered it's 6
      explosion-radius: 4
      # Default value, for transparency
      powered: false

cool-horse:
  filter:
    types:
      - HORSE
    probability: 5
  entity-specific-attributes:
    horse:
      color: WHITE
      style: WHITEFIELD
      max-domestication: 1000
      jump-strength: 2.0
  spawn:
    type: ZOMBIE_HORSE

rabbit-killer:
  filter:
    types:
      - RABBIT
    probability: 5
  attributes:
    follow-range: 50.0
    movement-speed-multiplier: 2.0
    # Rabbit: 1.5(♥) > 6(♥)
    max-health-multiplier: 4.0
    scale: 2.0
  entity-specific-attributes:
    rabbit:
      type: THE_KILLER_BUNNY

better-wither:
  filter:
    types:
      - WITHER
    probability: 100
  equipment:
    helmet:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_unbreaking
        - enchantments.top_thorns
        - enchantments.best_vanishing_curse
    boots:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_unbreaking
        - enchantments.top_thorns
        - enchantments.best_vanishing_curse
    chest:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_unbreaking
        - enchantments.top_thorns
        - enchantments.best_vanishing_curse
    leggings:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_unbreaking
        - enchantments.top_thorns
        - enchantments.best_vanishing_curse
  attributes:
    follow-range: 100.0
    knockback-resistance: 0.75
    # Warning: the speed modification doesn't work in practice for withers
    # movement-speed-multiplier

    #
    # According to https://minecraft.fandom.com/wiki/Armor#Protection_value,
    # a full set of iron armor gives 60% protection
    #
    # Wither: 300(♥) > 120(♥)
    #
    max-health-multiplier: 0.4

vex-spawns-an-illusioner:
  filter:
    types:
      - VEX
    # Not in 'spawn.probability' section to use
    # the player-multiplier features.
    probability: 0.33
    probability-player-multiplier:
      sort: closest
      statistic: DAMAGE_DEALT
      # stored in percentages, actually means 5_000 full units
      # has no cumulative hardening potential because other multipliers are other entity types
      divider: 500_000
      # 0.33% * 16 = 5.28%
      max: 16
  spawn:
    type: ILLUSIONER
    lighting-on-spawn: true

angry-vex:
  filter:
    types:
      - VEX
    probability: 100
  attributes:
    follow-range: 100.0
  equipment:
    # Damage in "hard": 6.75(♥) - 9.75(♥)
    main-hand:
      probability: 10
      # According to https://minecraft.fandom.com/wiki/Vex,
      # the vex's iron sword does not drop, because its main hand's HandDropChances is 0.
      #
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material: DIAMOND_SWORD
      # Never drops
      durability: 100
      enchantments:
        - enchantments.rand_maybe_top_sword_sharpness
        - enchantments.rand_sword_knockback
        - enchantments.rand_sword_fire_aspect
        - enchantments.best_vanishing_curse

insane-mansions-and-raids:
  filter:
    types:
      # According to https://minecraft.wiki/w/Evoker,
      # evoker can be found in woodland mansions and as part of raids.
      - EVOKER
      # Evokers spawn vexes, vexes spawn illusioners.
      - ILLUSIONER
      # Specifically harden raids
      - RAVAGER
    probability: 100
  effects:
    - effects.jump_3
    # Not undead to be protected from Sunlight
    # - effects.fire_resistance
    # Disabled based on the feedback from a server with 14 active players
    # - effects.regeneration
  equipment:
    # When killed by DIAMOND_SWORD+SHARPNESS(5), this entity usually keeps equipment
    # and isn't affected by durability decay caused by rand_maybe_top_thorns_except_friday
    helmet:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_protection
        - enchantments.rand_helmet_respiration
        - enchantments.rand_helmet_aqua_affinity
        - enchantments.rand_maybe_top_thorns_except_friday
        - enchantments.best_vanishing_curse
    boots:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_protection
        - enchantments.rand_boots_feather_falling
        - enchantments.rand_boots_depth_strider
        - enchantments.rand_maybe_top_thorns_except_friday
        - enchantments.best_vanishing_curse
    chest:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_protection
        - enchantments.rand_maybe_top_thorns_except_friday
        - enchantments.best_vanishing_curse
    leggings:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material-type: IRON
      # Never drops
      durability: 100
      enchantments:
        - enchantments.best_protection
        - enchantments.rand_leggings_swift_sneak
        - enchantments.rand_maybe_top_thorns_except_friday
        - enchantments.best_vanishing_curse
  attributes:
    follow-range: 100.0
    #
    # Ravagers already have congenital knockback resistance.
    #
    # Evokers and Illusioners are harder without knockback resistance
    # Evokers and Illusioners without knockback are more challenging to kill
    # because they change their position frequently.
    #
    # knockback-resistance: 0.75
    movement-speed-multiplier: 2.0
    # DIAMOND_SWORD+SHARPNESS(5) brings 1.08(♥) damage to these mobs.
    # BOW-POWER(5): 3.78(♥)-7.92(♥)
    #
    # Illusioner: 16(♥) > 20(♥)
    # Evoker: 12(♥) > 15(♥)
    # Ravager: 50(♥) > 62.5(♥)
    max-health-multiplier: 1.25
    # Align Illusioners to Evokers in mansions, who already have 'false'
    # and harden raids where Evokers and Ravagers have 'true'.
    #
    # The purpose is to keep the entities considered semi-bosses.
    remove-when-far-away: false
  drops:
    - _netherite_scrap
    - _enchanted_golden_apple
    - _book_of_mending
  _netherite_scrap:
    probability: 2
    probability-per-looting-level: 2
    material: NETHERITE_SCRAP
    schedules:
      - schedules.except_friday
  _enchanted_golden_apple:
    probability: 1
    probability-per-looting-level: 1
    material: ENCHANTED_GOLDEN_APPLE
    schedules:
      - schedules.except_friday
  _book_of_mending:
    probability: 0.5
    probability-per-looting-level: 0.5
    material: ENCHANTED_BOOK
    enchantments:
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    schedules:
      - schedules.except_friday
  # 10 levels from 0
  drop-exp: 160

insane-mansions-and-raids-illusioners:
  filter:
    types:
      # Evokers can't use bows
      # - EVOKER
      - ILLUSIONER
    probability: 100
  equipment:
    main-hand:
      probability: 100
      # This doesn't prevent drop due to looting bonus, but best_vanishing_curse does
      drop-chance: 0
      material: BOW
      # Never drops
      durability: 100
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_maybe_top_bow_power
        - enchantments.rand_bow_punch
        - enchantments.rand_bow_flame
        - enchantments.rand_bow_infinity
        - enchantments.best_vanishing_curse
  drops:
    - drops.top_bow
    #
    # No netherite treasury clothes in drops
    # to challenge the player in finding of netherite.
    #
    - _diamond_pickaxe_silk_touch
    - _diamond_pickaxe_fortune
  _diamond_pickaxe_silk_touch:
    probability: 2
    probability-per-looting-level: 2
    material: DIAMOND_PICKAXE
    enchantments:
      - enchantments.best_unbreaking
      - _best_silk_touch
      - enchantments.top_efficiency
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    _best_silk_touch:
      type: SILK_TOUCH
      level: 1
    schedules:
      - schedules.except_friday
  _diamond_pickaxe_fortune:
    probability: 2
    probability-per-looting-level: 2
    material: DIAMOND_PICKAXE
    enchantments:
      - enchantments.best_unbreaking
      - _best_fortune
      - enchantments.top_efficiency
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    _best_fortune:
      type: FORTUNE
      level: 3
    schedules:
      - schedules.except_friday

angry-vindicator:
  filter:
    types:
      - VINDICATOR
    probability: 25
  effects:
    - effects.jump_3
    # Not undead to be protected from Sunlight
    # - effects.fire_resistance
  equipment:
    # Damage in "hard": 9.5(♥)
    main-hand:
      probability: 100
      material: DIAMOND_AXE
      durability:
        type: random
        min: 25
        max: 50
      enchantments:
        - enchantments.rand_unbreaking
        - enchantments.rand_efficiency
  attributes:
    follow-range: 100.0
    knockback-resistance: 0.5
    movement-speed-multiplier: 1.5
    # Vindicator: 12(♥) > 18(♥)
    max-health-multiplier: 1.5
  # 5 levels from 0
  drop-exp: 55

piglin-spawns-a-hoglin:
  filter:
    types:
      - PIGLIN
      - PIGLIN_BRUTE
      - ZOMBIFIED_PIGLIN
    probability: 5
  spawn:
    type: HOGLIN

angry-hoglin:
  filter:
    reasons:
      # Only spawned via "spawn" section
      - CUSTOM
    types:
      - HOGLIN
    probability: 100
  effects:
    - effects.jump_3
    # Hoglins live in Nether, and fire resistance would let them survive in lava
    # - effects.fire_resistance
  attributes:
    follow-range: 50.0
    knockback-resistance: 0.99
    movement-speed-multiplier: 1.5
    # Hoglin: 20(♥) > 50(♥)
    max-health-multiplier: 2.5
    scale: 1.5
    # Too many Hoglins would exist in Nether
    # remove-when-far-away: false

zombie-horse:
  filter:
    types:
      - ZOMBIE_HORSE
    probability: 100
  attributes:
    knockback-resistance: 0.5
    # The "max-health-multiplier" would not work here,
    # Because the Horse has random max health between 15 and 30:
    # https://minecraft.fandom.com/wiki/Horse
    #
    # The client interface is capable of showing only 60.0 health.
    max-health: 60.0
    # The "movement-speed-multiplier" would not work here,
    # Because horse's movement speed ranges from 0.1125–0.3375 in internal units
    # with an average of 0.225
    # https://minecraft.fandom.com/wiki/Horse
    movement-speed: 0.5
  entity-specific-attributes:
    zombie-horse:
      jump-strength: 2.0
      tamed: true

# This handler isn’t listed in handlers’ list and can be used
# for experiments.
test-handler:
  filter:
    reasons:
      - DEFAULT
    types:
      - ZOMBIE
    probability: 100
  effects:
    - effects.fire_resistance

# Global templates of effects
effects:
  fire_resistance:
    types:
      - FIRE_RESISTANCE
    strength: 1
    # infinite
    duration: 0
  glowing:
    types:
      - GLOWING
    strength: 1
    duration: 300
  jump_1:
    types:
      - JUMP_BOOST
    strength: 1
    # infinite
    duration: 0
  jump_3:
    types:
      - JUMP_BOOST
    strength: 3
    # infinite
    duration: 0

# Global templates of drops
drops:
  top_bow:
    probability: 1
    probability-per-looting-level: 1
    material: BOW
    enchantments:
      - enchantments.best_unbreaking
      - enchantments.top_bow_power
      - enchantments.best_bow_punch
      - enchantments.best_bow_flame
      - enchantments.best_bow_infinity
      - enchantments.best_mending
      - enchantments.best_vanishing_curse
    schedules:
      - schedules.except_friday

# Global templates of enchantments
enchantments:
  # Tools
  rand_efficiency:
    type: EFFICIENCY
    level:
      type: random
      min: 0
      max: 5
  top_efficiency:
    type: EFFICIENCY
    # Survival maximum level is 5, here it's 7.
    level: 7

  # Cloths and weapon
  rand_unbreaking:
    type: UNBREAKING
    level:
      type: random
      min: 0
      max: 3
  best_unbreaking:
    type: UNBREAKING
    level: 3
  best_mending:
    type: MENDING
    level: 1
  best_vanishing_curse:
    type: VANISHING_CURSE
    level: 1

  # Cloths
  rand_protection:
    type: PROTECTION
    level:
      type: random
      min: 0
      max: 4
  rand_maybe_top_protection:
    type: PROTECTION
    #
    # Survival maximum level is 4, here it's 9.
    #
    # According to https://minecraft.fandom.com/wiki/Protection
    # the total protection level above 20 doesn't make sense.
    #
    # Mobs have 4 clothes, which on average gives exactly this:
    # (1-9) x 4 = (1+9) / 2 * 4 = 20.
    #
    level:
      type: random
      min: 1
      max: 9
  best_protection:
    type: PROTECTION
    level: 4
  top_protection:
    type: PROTECTION
    # Survival maximum level is 4, here it's 5.
    level: 5
  rand_thorns:
    type: THORNS
    level:
      type: random
      min: 0
      max: 3
  rand_maybe_top_thorns_except_friday:
    type: THORNS
    #
    # Survival maximum level is 3, here it's 5
    #
    # According to https://minecraft.wiki/w/Thorns
    # average damage dealt with 4 items with Thorns III is 1.545(♥)
    #
    # (1-5) on average gives (1+5) / 2 = 3, which equals the above 3.
    #
    level:
      type: random
      min: 1
      max: 5
    # Used in:
    #  - diamond-skeleton
    #  - chainmail-zombie
    #  - insane-mansions-and-raids
    #  - insane-mansions-and-raids-illusioners
    #
    # According to https://minecraft.wiki/w/Durability,
    # Any time the player takes damage that can be reduced by armor,
    # each piece of armor they are wearing loses 1 durability for every 4HP of incoming damage.
    #
    # The key point is that players lose armor durability under attacks, but mobs don't:
    # mobs with good armor without thorns may be even tougher than those with thorns.
    #
    # Warning: Don't assume that an armor with this enchantment breaks.
    #
    schedules:
      - schedules.except_friday
  top_thorns:
    type: THORNS
    # Survival maximum level is 3, here it's 5
    #
    # According to https://minecraft.fandom.com/wiki/Thorns,
    # the total amount of damage that can be dealt this way is capped at 4 (♥♥).
    #
    level: 5
  rand_boots_feather_falling:
    type: FEATHER_FALLING
    level:
      type: random
      min: 0
      max: 4
  best_boots_feather_falling:
    type: FEATHER_FALLING
    level: 4
  rand_helmet_respiration:
    type: RESPIRATION
    level:
      type: random
      min: 0
      max: 3
  best_helmet_respiration:
    type: RESPIRATION
    level: 3
  top_helmet_respiration:
    type: RESPIRATION
    # Survival maximum level is 3, here it's 5
    level: 5
  rand_boots_depth_strider:
    type: DEPTH_STRIDER
    level:
      type: random
      min: 0
      max: 3
  best_boots_depth_strider:
    type: DEPTH_STRIDER
    level: 3
  rand_helmet_aqua_affinity:
    type: AQUA_AFFINITY
    level:
      type: random
      min: 0
      max: 1
  best_helmet_aqua_affinity:
    type: AQUA_AFFINITY
    level: 1
  best_leggings_swift_sneak:
    type: SWIFT_SNEAK
    level: 3
  top_leggings_swift_sneak:
    type: SWIFT_SNEAK
    #
    # Survival maximum level is 3, here it's 5
    #
    # According to https://minecraft.fandom.com/wiki/Swift_Sneak
    # the swift sneak level above 5 doesn't make sense.
    #
    level: 5
  rand_leggings_swift_sneak:
    type: SWIFT_SNEAK
    level:
      type: random
      min: 0
      max: 3


  # Sword
  rand_sword_sharpness:
    type: SHARPNESS
    level:
      type: random
      min: 0
      max: 5
  rand_maybe_top_sword_sharpness:
    type: SHARPNESS
    # Survival maximum level is 5, here it's 7
    # which leads to damage in "hard": 6.75(♥) - 9.75(♥)
    level:
      type: random
      min: 1
      max: 7
  top_sword_sharpness:
    type: SHARPNESS
    # Survival maximum level is 5, here it's 7
    level: 7
  rand_sword_knockback:
    type: KNOCKBACK
    level:
      type: random
      min: 0
      max: 2
  best_sword_knockback:
    type: KNOCKBACK
    # IMO, knockback prevents swords from dealing a lot of melee damage per second
    level: 0
  rand_sword_fire_aspect:
    type: FIRE_ASPECT
    level:
      type: random
      min: 0
      max: 2
  best_sword_fire_aspect:
    type: FIRE_ASPECT
    level: 2
  rand_sword_sweeping_edge:
    type: SWEEPING_EDGE
    level:
      type: random
      min: 0
      max: 3
  best_sword_sweeping_edge:
    type: SWEEPING_EDGE
    level: 3
  rand_sword_looting:
    type: LOOTING
    level:
      type: random
      min: 0
      max: 3
  best_sword_looting:
    type: LOOTING
    level: 3

  # Bow
  rand_maybe_top_bow_power:
    type: POWER
    # Survival maximum level is 5, here it's 7
    level:
      type: random
      min: 1
      max: 7
  top_bow_power:
    type: POWER
    # Survival maximum level is 5, here it's 7
    level: 7
  rand_bow_punch:
    type: PUNCH
    level:
      type: random
      min: 0
      max: 2
  best_bow_punch:
    type: PUNCH
    level: 2
  rand_bow_flame:
    type: FLAME
    level:
      type: random
      min: 0
      max: 1
  best_bow_flame:
    type: FLAME
    level: 1
  rand_bow_infinity:
    type: INFINITY
    level:
      type: random
      min: 0
      max: 1
  best_bow_infinity:
    type: INFINITY
    level: 1

# Global templates of days-of-the-weeks
schedules:
  except_friday:
    timezone: Europe/London
    days-of-the-week:
    - MON
    - TUE
    - WED
    - THU
    - SAT
    - SUN